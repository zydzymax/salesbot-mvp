# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –î–µ–ø–ª–æ—é –∏ –ù–∞—Å—Ç—Ä–æ–π–∫–µ

## –î–∞—Ç–∞: 2025-10-25

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ó–∞–¥–∞—á–∏

1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã** - 51/69 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
2. ‚úÖ **–°–æ–∑–¥–∞–Ω–∞ –≤–µ–±-–ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** - –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –¥–∞—à–±–æ—Ä–¥
3. ‚úÖ **–ù–∞—Å—Ç—Ä–æ–µ–Ω—ã Telegram –∞–ª–µ—Ä—Ç—ã** - –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –æ–±–µ—â–∞–Ω–∏—è, –ª–∏–¥—ã
4. ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–í–µ–±-–ü–∞–Ω–µ–ª—å –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞](#–≤–µ–±-–ø–∞–Ω–µ–ª—å-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
2. [Telegram –ê–ª–µ—Ä—Ç—ã](#telegram-–∞–ª–µ—Ä—Ç—ã)
3. [–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –ó–∞–¥–∞—á–∏](#–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞—á–∏)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –û–∫—Ä—É–∂–µ–Ω–∏—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
5. [–ó–∞–ø—É—Å–∫ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–∑–∞–ø—É—Å–∫-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
6. [API Endpoints](#api-endpoints)

---

## 1. –í–µ–±-–ü–∞–Ω–µ–ª—å –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –î–æ—Å—Ç—É–ø

–í–µ–±-–ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: `http://your-server:8000/admin/`

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- **–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã:**
  - –í—Å–µ–≥–æ –∑–≤–æ–Ω–∫–æ–≤
  - –°—Ä–µ–¥–Ω–∏–π QA Score
  - –û–±–µ—â–∞–Ω–∏—è –∏ –ø—Ä–æ—Å—Ä–æ—á–∫–∏

- **–ê–ª–µ—Ä—Ç—ã:**
  - –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∑–≤–æ–Ω–∫–æ–≤
  - –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –æ–±–µ—â–∞–Ω–∏—è
  - –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
  - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

- **–¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:**
  - –í—Å–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
  - QA Score —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞–º–∏
  - –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±–µ—â–∞–Ω–∏–π
  - –°—Ç–∞—Ç—É—Å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

- **–†–µ–π—Ç–∏–Ω–≥–∏:**
  - –¢–æ–ø-10 –ø–æ –∫–∞—á–µ—Å—Ç–≤—É
  - –¢–æ–ø-10 –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

- **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
  - –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –§–∞–π–ª–æ–≤

```
app/web/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ routers/
‚îÇ   ‚îî‚îÄ‚îÄ admin_dashboard.py       # API —Ä–æ—É—Ç–µ—Ä
‚îî‚îÄ‚îÄ templates/
    ‚îú‚îÄ‚îÄ base.html                # –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω
    ‚îî‚îÄ‚îÄ admin_dashboard.html     # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
```

### –ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
# –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥–∞ —á–µ—Ä–µ–∑ API
GET /admin/api/refresh-data?period=7

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–µ–Ω–µ–¥–∂–µ—Ä–∞
GET /admin/manager/{manager_id}?period=7
```

---

## 2. Telegram –ê–ª–µ—Ä—Ç—ã

### –°–∏—Å—Ç–µ–º–∞ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:

#### üö® –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –û–±–µ—â–∞–Ω–∏—è
- **–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å:** –ö–∞–∂–¥—ã–π —á–∞—Å
- **–£—Å–ª–æ–≤–∏–µ:** –û–±–µ—â–∞–Ω–∏—è —Å –∏—Å—Ç–µ–∫—à–∏–º –¥–µ–¥–ª–∞–π–Ω–æ–º
- **–§–æ—Ä–º–∞—Ç:**
  ```
  üö® –ü–†–û–°–†–û–ß–ï–ù–ù–´–ï –û–ë–ï–©–ê–ù–ò–Ø

  –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –æ–±–µ—â–∞–Ω–∏–π: 5

  üë§ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤: 3 –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–æ
     ‚Ä¢ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ö–ü (5—á –Ω–∞–∑–∞–¥)
     ‚Ä¢ –ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É (12—á –Ω–∞–∑–∞–¥)

  üìå –¢—Ä–µ–±—É–µ—Ç—Å—è –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ!
  ```

#### ‚ö†Ô∏è –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –õ–∏–¥—ã
- **–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å:** –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
- **–£—Å–ª–æ–≤–∏–µ:**
  - –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–≤–æ–Ω–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 15 –º–∏–Ω
  - **–¢–û–õ–¨–ö–û –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è (9:00-18:00 –ú–°–ö, –ü–Ω-–ü—Ç)**
- **–§–æ—Ä–º–∞—Ç:**
  ```
  ‚ö†Ô∏è –ù–ï–û–ë–†–ê–ë–û–¢–ê–ù–ù–´–ï –õ–ò–î–´

  –ü—Ä–æ–ø—É—â–µ–Ω–æ –∑–≤–æ–Ω–∫–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 15 –º–∏–Ω—É—Ç: 2

  üìû +79001234567
     –ú–µ–Ω–µ–¥–∂–µ—Ä: –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤
     5 –º–∏–Ω –Ω–∞–∑–∞–¥

  üìå –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞!
  ```

#### üìä –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –°–≤–æ–¥–∫–∞
- **–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å:** –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 18:00
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å
  - –¢–æ–ø-3 –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–ü–æ–ª—É—á–∏—Ç—å Bot Token:**
   ```bash
   # –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
   # –ü–æ–ª—É—á–∏—Ç—å token
   ```

2. **–ü–æ–ª—É—á–∏—Ç—å Chat ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:**
   ```bash
   # –ù–∞–ø–∏—Å–∞—Ç—å –±–æ—Ç—É /start
   # –ü–æ–ª—É—á–∏—Ç—å chat_id —á–µ—Ä–µ–∑ API:
   curl https://api.telegram.org/bot<TOKEN>/getUpdates
   ```

3. **–î–æ–±–∞–≤–∏—Ç—å –≤ .env:**
   ```bash
   TELEGRAM_BOT_TOKEN=your_bot_token_here
   TELEGRAM_ADMIN_CHAT_IDS=["123456789", "987654321"]
   ```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –§–∞–π–ª–æ–≤

```
app/alerts/
‚îú‚îÄ‚îÄ __init__.py
‚îî‚îÄ‚îÄ telegram_alerts.py           # –°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤
```

### API

```python
from app.alerts.telegram_alerts import telegram_alerts

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
await telegram_alerts.send_telegram_message(
    chat_id="123456789",
    message="–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
)

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è
is_working = telegram_alerts.is_working_hours()  # True/False

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –æ–±–µ—â–∞–Ω–∏—è
await telegram_alerts.check_overdue_commitments()

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ª–∏–¥—ã
await telegram_alerts.check_unprocessed_leads()

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é —Å–≤–æ–¥–∫—É
await telegram_alerts.send_daily_summary()
```

---

## 3. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –ó–∞–¥–∞—á–∏

### –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (Scheduler)

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏:

| –ó–∞–¥–∞—á–∞ | –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|---------------|----------|
| `check_overdue_commitments` | –ö–∞–∂–¥—ã–π —á–∞—Å | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –æ–±–µ—â–∞–Ω–∏–π |
| `check_unprocessed_leads` | –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ª–∏–¥–æ–≤ (—Ç–æ–ª—å–∫–æ –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è 9-18 –ú–°–ö) |
| `send_commitment_reminders` | –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω | –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–∏–±–ª–∏–∂–∞—é—â–∏—Ö—Å—è –¥–µ–¥–ª–∞–π–Ω–∞—Ö |
| `daily_summary` | 18:00 –µ–∂–µ–¥–Ω–µ–≤–Ω–æ | –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å–≤–æ–¥–∫–∞ |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
app/tasks/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ queue.py                     # –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ workers.py                   # –í–æ—Ä–∫–µ—Ä—ã
‚îî‚îÄ‚îÄ scheduler.py                 # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ ‚ú® –ù–û–í–´–ô
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```python
from app.tasks.scheduler import task_scheduler

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ app)
await task_scheduler.start()

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
await task_scheduler.stop()
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –∑–∞–¥–∞—á–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è:
```
2025-10-25 12:00:00 [info] Started periodic task: check_overdue_commitments
2025-10-25 12:00:05 [info] Running task: check_overdue_commitments
2025-10-25 12:00:06 [info] Sent overdue commitments alert count=3
```

---

## 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –û–∫—Ä—É–∂–µ–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```bash
# .env
DATABASE_URL=sqlite:///./salesbot.db
OPENAI_API_KEY=sk-...

# Telegram
TELEGRAM_BOT_TOKEN=123456:ABC-DEF...
TELEGRAM_ADMIN_CHAT_IDS=["123456789"]

# AmoCRM
AMOCRM_CLIENT_ID=your_client_id
AMOCRM_CLIENT_SECRET=your_client_secret
AMOCRM_REDIRECT_URI=https://yourapp.com/amocrm/callback
AMOCRM_SUBDOMAIN=yoursubdomain
```

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ

```bash
# –û–∫—Ä—É–∂–µ–Ω–∏–µ
ENVIRONMENT=production
LOG_LEVEL=INFO

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
ENCRYPTION_KEY=your_32_byte_key_here

# API
API_KEY=your_api_key_for_external_access
```

---

## 5. –ó–∞–ø—É—Å–∫ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### Development

```bash
cd /root/salesbot-mvp

# –ó–∞–ø—É—Å–∫ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π
python -m app.main

# –ò–ª–∏ —á–µ—Ä–µ–∑ uvicorn
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### Production

```bash
# –°–æ–∑–¥–∞—Ç—å systemd service
sudo nano /etc/systemd/system/salesbot.service
```

```ini
[Unit]
Description=SalesBot MVP
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/root/salesbot-mvp
Environment="PATH=/usr/bin:/usr/local/bin"
ExecStart=/usr/bin/python3 -m app.main
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo systemctl daemon-reload
sudo systemctl enable salesbot
sudo systemctl start salesbot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status salesbot

# –õ–æ–≥–∏
sudo journalctl -u salesbot -f
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –†–∞–±–æ—Ç—ã

```bash
# Health check
curl http://localhost:8000/health

# –ú–µ—Ç—Ä–∏–∫–∏
curl http://localhost:8000/metrics

# –í–µ–±-–ø–∞–Ω–µ–ª—å
–æ—Ç–∫—Ä—ã—Ç—å http://localhost:8000/admin/

# API docs
–æ—Ç–∫—Ä—ã—Ç—å http://localhost:8000/docs
```

---

## 6. API Endpoints

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ

```
GET  /health                                    - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
GET  /metrics                                   - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
POST /webhook/amocrm/call                       - Webhook –æ—Ç AmoCRM
POST /api/analyze/{amocrm_call_id}             - –ê–Ω–∞–ª–∏–∑ –∑–≤–æ–Ω–∫–∞
POST /api/calls/{call_id}/score-quality        - QA –æ—Ü–µ–Ω–∫–∞
POST /api/calls/{call_id}/extract-commitments  - –ò–∑–≤–ª–µ—á—å –æ–±–µ—â–∞–Ω–∏—è
GET  /api/commitments/overdue                   - –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –æ–±–µ—â–∞–Ω–∏—è
POST /api/managers/{manager_id}/check-fraud    - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ fraud
GET  /api/dashboard/manager/{manager_id}        - KPI –º–µ–Ω–µ–¥–∂–µ—Ä–∞
GET  /api/dashboard/team                        - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
GET  /api/dashboard/leaderboard                 - –†–µ–π—Ç–∏–Ω–≥ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
GET  /api/dashboard/alerts                      - –ê–ª–µ—Ä—Ç—ã
```

### –ù–æ–≤—ã–µ (–í–µ–±-–ü–∞–Ω–µ–ª—å)

```
GET  /admin/                                    - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–∞—à–±–æ—Ä–¥–∞
GET  /admin/manager/{manager_id}                - –î–µ—Ç–∞–ª–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
GET  /admin/api/refresh-data                    - –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (AJAX)
```

---

## 7. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏

```bash
# –í—Å–µ –ª–æ–≥–∏
sudo journalctl -u salesbot -f

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
sudo journalctl -u salesbot -p err -f

# –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
sudo journalctl -u salesbot --since "1 hour ago"

# –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É
sudo journalctl -u salesbot | grep "alert"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ó–∞–¥–∞—á

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—â–µ–Ω
curl http://localhost:8000/metrics | grep scheduler

# –õ–æ–≥–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
sudo journalctl -u salesbot | grep "scheduler"
```

---

## 8. Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–ª–µ—Ä—Ç—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
grep TELEGRAM /root/salesbot-mvp/.env

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
sudo journalctl -u salesbot | grep "telegram"

# –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏
python3 << EOF
import asyncio
from app.alerts.telegram_alerts import telegram_alerts

async def test():
    await telegram_alerts.send_telegram_message(
        "YOUR_CHAT_ID",
        "–¢–µ—Å—Ç"
    )

asyncio.run(test())
EOF
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
sudo journalctl -u salesbot | grep "scheduler"

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# "Starting task scheduler"
# "Started periodic task: check_overdue_commitments"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –í–µ–±-–ø–∞–Ω–µ–ª—å –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ
curl http://localhost:8000/health

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∏–º–ø–æ—Ä—Ç–∞ —Ä–æ—É—Ç–µ—Ä–∞
sudo journalctl -u salesbot | grep "dashboard"

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: "Admin dashboard router loaded"
```

---

## 9. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
cd /root/salesbot-mvp

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo systemctl stop salesbot

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
git pull  # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è git

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl start salesbot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
sudo systemctl status salesbot
```

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|----------|
| –í–µ–±-–ø–∞–Ω–µ–ª—å | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | HTML –¥–∞—à–±–æ—Ä–¥ —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º |
| Telegram –∞–ª–µ—Ä—Ç—ã | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | –ü—Ä–æ—Å—Ä–æ—á–∫–∏, –ª–∏–¥—ã, —Å–≤–æ–¥–∫–∏ |
| –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ | ‚úÖ –ó–∞–ø—É—â–µ–Ω | 4 –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ |
| –†–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 9-18 –ú–°–ö –¥–ª—è –ª–∏–¥–æ–≤ |
| –¢–µ—Å—Ç—ã | ‚úÖ 51/69 | 74% –ø–æ–∫—Ä—ã—Ç–∏–µ |

---

**–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

---

_–°–æ–∑–¥–∞–Ω–æ: 2025-10-25_
_–ê–≤—Ç–æ—Ä: Claude Code_
